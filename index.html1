<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>عزيز شات - Aziz.ai</title>
<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; margin:0; padding:0; }
  #chat { max-width: 600px; margin: 0 auto; padding: 10px; height: 90vh; overflow-y: auto; }
  .message { padding: 10px; margin:5px 0; border-radius: 8px; max-width: 80%; }
  .user { background-color: #BB86FC; align-self: flex-end; }
  .assistant { background-color: #E0E0E0; align-self: flex-start; }
  #inputContainer { display:flex; padding:10px; background:#fff; }
  #input { flex:1; padding:10px; border-radius:8px; border:1px solid #ccc; }
  #sendBtn { padding:10px 15px; margin-left:5px; background:#6200EE; color:#fff; border:none; border-radius:8px; cursor:pointer; }
  #header { background:#6200EE; color:#fff; padding:10px; text-align:center; font-size:18px; }
</style>
</head>
<body>
<div id="header">عزيز شات - Aziz.ai</div>
<div id="chat"></div>
<div id="inputContainer">
<input type="text" id="input" placeholder="اكتب رسالتك هنا...">
<button id="sendBtn">إرسال</button>
</div>
<script>
const chat = document.getElementById('chat');
const input = document.getElementById('input');
const sendBtn = document.getElementById('sendBtn');

function addMessage(content, role){
    const div = document.createElement('div');
    div.classList.add('message');
    div.classList.add(role);
    div.textContent = content;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
}

sendBtn.onclick = async () => {
    const text = input.value.trim();
    if(!text) return;
    addMessage(text,'user');
    input.value = '';

    // ضع هنا رابط خادم Proxy الخاص بك بعد إنشائه على Replit أو أي خدمة
    const proxyURL = 'https://YOUR-PROXY-URL/chat';

    try {
        const response = await fetch(proxyURL,{ 
            method:'POST', 
            headers:{'Content-Type':'application/json'},
            body: JSON.stringify({
                model:'gpt-3.5-turbo',
                messages:[{role:'user', content:text}],
                max_tokens:1000
            })
        });
        const data = await response.json();
        const reply = data.choices[0].message.content;
        addMessage(reply,'assistant');
    }catch(err){
        addMessage('تعذر الاتصال بالخادم','assistant');
    }
};
</script>
</body>
</html>